{% extends "base.html" %}

{% block title %}Configuration - Telegram Security Bot{% endblock %}

{% block content %}
<div class="card">
    <h2>‚öôÔ∏è API Configuration</h2>
    <p>Configure your API keys for the Telegram Security Bot services</p>
</div>

<div class="card">
    <h3>üîë Required API Keys</h3>
    
    <div style="margin-bottom: 30px;">
        <h4>üì± Telegram Bot Token</h4>
        <p><strong>Status:</strong> {{ 'Configured' if 'TELEGRAM_BOT_TOKEN' in request.environ else 'Not Configured' }}</p>
        <p>This is required for the bot to connect to Telegram.</p>
        <div style="margin-top: 10px;">
            <strong>How to get:</strong>
            <ol style="margin-left: 20px; margin-top: 5px;">
                <li>Message <code>@BotFather</code> on Telegram</li>
                <li>Use the <code>/newbot</code> command</li>
                <li>Follow the prompts to name your bot</li>
                <li>Copy the token that BotFather provides</li>
                <li>Set as environment variable: <code>TELEGRAM_BOT_TOKEN</code></li>
            </ol>
        </div>
    </div>

    <div style="margin-bottom: 30px;">
        <h4>üîç URLScan.io API Key</h4>
        <p><strong>Status:</strong> {{ 'Configured' if 'URLSCAN_API_KEY' in request.environ else 'Not Configured' }}</p>
        <p>Provides advanced URL threat scanning capabilities.</p>
        <div style="margin-top: 10px;">
            <strong>How to get:</strong>
            <ol style="margin-left: 20px; margin-top: 5px;">
                <li>Go to <a href="https://urlscan.io" target="_blank">urlscan.io</a></li>
                <li>Create a free account</li>
                <li>Go to your API settings</li>
                <li>Generate an API key</li>
                <li>Set as environment variable: <code>URLSCAN_API_KEY</code></li>
            </ol>
        </div>
    </div>

    <div style="margin-bottom: 30px;">
        <h4>‚òÅÔ∏è Cloudflare API Key</h4>
        <p><strong>Status:</strong> {{ 'Configured' if 'CLOUDFLARE_API_KEY' in request.environ else 'Not Configured' }}</p>
        <p>Provides domain reputation and threat intelligence data.</p>
        <div style="margin-top: 10px;">
            <strong>How to get:</strong>
            <ol style="margin-left: 20px; margin-top: 5px;">
                <li>Log into your <a href="https://dash.cloudflare.com" target="_blank">Cloudflare dashboard</a></li>
                <li>Go to "My Profile" ‚Üí "API Tokens"</li>
                <li>Create a token with Radar API access</li>
                <li>Set as environment variable: <code>CLOUDFLARE_API_KEY</code></li>
            </ol>
        </div>
    </div>
</div>

<div class="card">
    <h3>üèóÔ∏è Render.com Deployment</h3>
    <p>Configuration for deploying to Render.com hosting platform:</p>
    
    <div style="margin-top: 15px;">
        <h4>Required Environment Variables:</h4>
        <pre>
# Required
TELEGRAM_BOT_TOKEN=your_telegram_bot_token

# Optional but recommended
URLSCAN_API_KEY=your_urlscan_api_key
CLOUDFLARE_API_KEY=your_cloudflare_api_key

# Flask configuration
FLASK_SECRET_KEY=your_secret_key_for_sessions
PORT=5000</pre>
    </div>

    <div style="margin-top: 20px;">
        <h4>Build Command:</h4>
        <pre>pip install -r requirements.txt</pre>
    </div>

    <div style="margin-top: 20px;">
        <h4>Start Command:</h4>
        <pre>python web_interface.py</pre>
    </div>

    <div style="margin-top: 20px;">
        <h4>Health Check Endpoint:</h4>
        <p>Render.com can use <code>/health</code> for health monitoring</p>
    </div>
</div>

<div class="card">
    <h3>üîí Security Notes</h3>
    <ul style="margin-left: 20px;">
        <li>Never commit API keys to your repository</li>
        <li>Use environment variables for all sensitive configuration</li>
        <li>The web interface runs on port 5000 by default</li>
        <li>All API connections use HTTPS for security</li>
        <li>The bot validates API keys before using them</li>
    </ul>
</div>

<div style="text-align: center; margin-top: 30px;">
    <a href="{{ url_for('index') }}" class="btn">‚Üê Back to Dashboard</a>
</div>
{% endblock %}
